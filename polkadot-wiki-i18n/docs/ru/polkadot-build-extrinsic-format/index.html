<!DOCTYPE html><html lang="ru"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Polkadot Extrinsic Format aka Transaction Format · Polkadot Wiki</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="## Old Format"/><meta name="docsearch:language" content="ru"/><meta property="og:title" content="Polkadot Extrinsic Format aka Transaction Format · Polkadot Wiki"/><meta property="og:type" content="website"/><meta property="og:url" content="https://w3f.github.io//"/><meta property="og:description" content="## Old Format"/><meta property="og:image" content="https://w3f.github.io/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://w3f.github.io/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/ru"><img class="logo" src="/img/favicon.ico" alt="Polkadot Wiki"/><h2 class="headerTitleWithLogo">Polkadot Wiki</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/ru/polkadot-build-index" target="_self">Build</a></li><li class="siteNavGroupActive"><a href="/docs/ru/polkadot-learn-index" target="_self">Learn</a></li><li class="siteNavGroupActive"><a href="/docs/ru/polkadot-node-index" target="_self">Maintainers</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg" alt="Languages icon"/>Русский</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/docs/en/polkadot-build-extrinsic-format">English</a></li><li><a href="/docs/ja/polkadot-build-extrinsic-format">日本語</a></li><li><a href="/docs/es-ES/polkadot-build-extrinsic-format">Español</a></li><li><a href="/docs/ko/polkadot-build-extrinsic-format">한국어</a></li><li><a href="/docs/tr/polkadot-build-extrinsic-format">Türkçe</a></li><li><a href="/docs/zh-CN/polkadot-build-extrinsic-format">中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(event) {
          event.preventDefault();

          if (languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Build</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Main<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ru/community">Community</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/contributing">Contributing</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/glossary">Terms and Definitions</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/">Polkadot Wiki</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/news">This Week in Polkadot</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/research">Polkadot Research</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Build<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-build-with-polkadot">Polkadot Builders Starter&#x27;s Guide</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-cumulus">Cumulus</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-deploy-parachains">How to view and deploy parachains</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-dev-roadmap">Roadmap For Developers</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-examples-index">Examples</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-exchange-integration">Exchange integration</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/ru/polkadot-build-extrinsic-format">Polkadot Extrinsic Format aka Transaction Format</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-hackathon">Hackathon</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-index">Builders Portal</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-networks">Networks</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-pdk">Parachain Development Kits (PDKs)</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-rust-style-guide">Style Guide for Rust in Polkadot</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-smart-contracts">Smart Contracts</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-tools-index">Tools</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-build-tools-subkey">Subkey</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Learn<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-DOT">DOT</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-PRE">Polkadot Runtime Environment (PRE)</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-UI">Polkadot UI</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-architecture">Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-auction">Parachain Slots Auction</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-basics">Basics</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-bridges">Bridges</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-comparisons-cosmos">Polkadot vs. Cosmos: Design Comparison</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-comparisons">Polkadot comparisons</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-consensus">Polkadot Consensus</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-cryptography">Cryptography Explainer</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-faq">Frequently Asked Questions (FAQs)</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-governance">Governance</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-grandpa">GRANDPA</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-implementations">Polkadot Implementations</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-index">Learn about Polkadot</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-interchain">Interchain Message Passing (ICMP)</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-introduction">Polkadot</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-keys">Polkadot Keys</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-parachains">Parachains</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-parathreads">Parathreads</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-phragmen">What is Phragmen and what does it mean for node operators?</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-randomness">Randomness</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-relevant-links">Links</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-roadmap">Roadmap</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-security">Security of the network</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-spree">SPREE</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-staking">Staking</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-treasury">Treasury</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-learn-wasm">WebAssembly (Wasm)</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Maintaining<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-collator">Collator</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-governance-index">Governance</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-guides-how-to-nominate">How to nominate</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-guides-how-to-systemd">How to run your node as a `systemd` process</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-guides-how-to-validate">How to validate</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-guides-validator-payout">Validator Payout Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-index">Network Maintainers</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-node-operator">Node Operator / Validator</a></li><li class="navListItem"><a class="navItem" href="/docs/ru/polkadot-node-nominator">Nominator</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Polkadot Extrinsic Format aka Transaction Format</h1></header><article><div><span><h2><a class="anchor" aria-hidden="true" id="old-format"></a><a href="#old-format" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Old Format</h2>
<p>For reference, the <strong>old</strong> extrinsic format was:</p>
<pre><code class="hljs">[ account-id (32-bytes), index (4-bytes), call (dynamic-length), signature on first three fields (64 bytes) ]
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="current-format"></a><a href="#current-format" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Current Format</h2>
<p>The Polkadot extrinsic format is:</p>
<pre><code class="hljs">[ address (1/3/5/9/33-bytes, dependent on first byte), index (4-bytes), call (dynamic-length), signature on *original* fields (64 bytes) ]
</code></pre>
<p>The <em>original</em> fields refer to the following from the old extrinsic format:</p>
<pre><code class="hljs">[ account-id (32-bytes), index (4-bytes), call (dynamic-length) ]
</code></pre>
<p>The specific format for the new address type is one of 5 sub-formats, switched on the first byte:</p>
<ul>
<li><code>0xff, 32-byte account id</code></li>
<li><code>0xfe, 8-byte account index</code></li>
<li><code>0xfd, 4-byte account index</code></li>
<li><code>0xfc, 2-byte account index</code></li>
<li><code>[0xf0...0xfb] (invalid, reserved for future use)</code></li>
<li><code>[0x00...0xef] 1-byte account index (less than 0xf0)</code></li>
</ul>
<p>The account index variants are significantly smaller but require a lookup in the state. To avoid a transaction replay attack when an index changes its account, the signature is signed not with the first field as the index, but rather as the account id, thereby invalidating all previous signatures once the index is used to lookup a different id.</p>
<p>In addition to the sender field, any parameters to Call/Propose (PrivCall) fields that were AccountId (32-bytes) in the old format are now Address (1/3/5/9/33-bytes).</p>
<h2><a class="anchor" aria-hidden="true" id="source"></a><a href="#source" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Source</h2>
<p><a href="https://github.com/paritytech/substrate/pull/195">Substrate #195</a></p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/ru/polkadot-build-exchange-integration"><span class="arrow-prev">← </span><span>Exchange integration</span></a><a class="docs-next button" href="/docs/ru/polkadot-build-hackathon"><span>Hackathon</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#old-format">Old Format</a></li><li><a href="#current-format">Current Format</a></li><li><a href="#source">Source</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/favicon.ico" alt="Polkadot Wiki" width="66" height="58"/></a><div><a href="https://stackoverflow.com/questions/tagged/polkadot" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://riot.w3f.tech/#/room/#polkadot-watercooler:matrix.org">Polkadot Watercooler (Riot Chat)</a><a href="https://twitter.com/polkadotnetwork" target="_blank" rel="noreferrer noopener">Twitter</a></div><a href="https://github.com/paritytech/polkadot">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/paritytech/polkadot/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></section><section class="copyright">Copyright © 2019 Web3 Foundation</section></footer></div></body></html>